<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>ajax渲染</title>
	</head>
	<body>
		<template>
			<span class="me">{{name}}最怀念的是{{thing}}</span>
		</template>
	</body>
	<script src="template.js"></script>
	<script>
		var xhr = new XMLHttpRequest()
		var tpl = document.querySelector('template')
		xhr.onreadystatechange = function() {
			if(xhr.readyState == 4 && xhr.status == 200) {
				tpl.setAttribute('data-render',xhr.responseText)
			}
		}
		//注意ajax必须同步
		xhr.open('GET','https://zhuzhiyuan.cc/json.py',false)
		xhr.send()
		foo.conf({
			callback:function(w,l) {
				//在渲染完毕后绑定事件
				var me = document.querySelector('.me')
				me.addEventListener('click',function() {
					alert('click')
				})
			}
		}).start()
	</script>
</html>
